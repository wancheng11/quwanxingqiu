<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>趣玩星球</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Helvetica Neue", "Microsoft Yahei", sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f7f7f7;
            overflow-x: hidden;
            position: relative;
            max-width: 100vw;
        }

        /* 顶部搜索栏 */
        .search-bar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            padding: 12px 16px;
            background: #fff;
            display: flex;
            align-items: center;
            gap: 12px;
            z-index: 100;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
            border-bottom-left-radius: 16px;
            border-bottom-right-radius: 16px;
        }

        .search-input {
            flex: 1;
            height: 36px;
            background: #f5f5f5;
            border-radius: 18px;
            border: none;
            padding: 0 16px;
            font-size: 14px;
            color: #666;
        }

        .search-input::placeholder {
            color: #999;
        }

        .message-icon {
            font-size: 20px;
            color: #666;
            padding: 8px;
        }

        /* 页面容器 */
        .page-container {
            padding: 60px 0 60px;
            min-height: 100vh;
            width: 100vw;
            overflow-x: hidden;
            border-radius: 16px;
            background: #f7f7f7;
        }

        /* 轮播图区域 */
        .banner-section {
            padding: 16px;
        }

        .banner-container {
            position: relative;
            overflow: hidden;
            border-radius: 12px;
            height: 180px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.05);
        }

        .banner-wrapper {
            display: flex;
            width: 200%;
            height: 100%;
            transition: transform 0.5s ease;
        }

        .banner-slide {
            flex: 0 0 50%;
            height: 100%;
        }

        .banner-slide a {
            display: block;
            width: 100%;
            height: 100%;
        }

        .banner-slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .banner-indicators {
            position: absolute;
            bottom: 12px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
            z-index: 2;
        }

        .indicator {
            width: 8px;
            height: 8px;
            border-radius: 4px;
            background: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .indicator.active {
            width: 16px;
            background: white;
        }

        /* 分类导航 */
        .category-nav {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            padding: 16px;
            gap: 12px;
            background: white;
            margin: 0 12px;
            border-radius: 16px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.05);
        }

        .category-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            text-decoration: none;
            padding: 4px;
            border-radius: 12px;
            transition: all 0.3s ease;
        }

        .category-icon {
            width: 44px;
            height: 44px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .category-name {
            font-size: 12px;
            color: #333;
            font-weight: 500;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            width: 100%;
            text-align: center;
        }

        /* 添加悬浮效果 */
        .category-item:hover .category-icon {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .category-item:active .category-icon {
            transform: scale(0.95);
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        }

        /* 推荐陪玩区域 */
        .recommend-section {
            margin: 12px 16px;
            background: white;
            border-radius: 12px;
            padding: 16px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .section-header {
            margin-bottom: 16px;
        }

        .section-title {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 17px;
            font-weight: 600;
            color: #333;
            position: relative;
        }

        .title-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            border-radius: 16px;
            background: #f0f2ff;
            margin-right: 8px;
        }

        .title-icon i {
            font-size: 18px;
            color: #ffd700;  /* 默认颜色 */
        }

        .player-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }

        .player-card {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .player-cover {
            position: relative;
            width: 100%;
            padding-top: 100%;
        }

        .player-cover img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .online-badge {
            position: absolute;
            top: 8px;
            right: 8px;
            background: rgba(0, 0, 0, 0.6);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .online-badge i {
            color: #52c41a;
            font-size: 8px;
        }

        .level-badge {
            position: absolute;
            top: 8px;
            left: 8px;
            background: linear-gradient(135deg, #ff9800, #ff5722);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
        }

        .player-info {
            padding: 8px;
        }

        .info-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 6px;
        }

        .name {
            font-size: 15px;
            font-weight: 500;
            color: #333;
        }

        .rating {
            color: #ffc107;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 2px;
        }

        .tag-row {
            display: flex;
            gap: 6px;
            margin-bottom: 6px;
        }

        .tag {
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 12px;
            background: #f0f2ff;
            color: #3f51b5;
        }

        .stats-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 12px;
        }

        .orders {
            color: #666;
        }

        .price {
            color: #ff4d4f;
            font-weight: 500;
        }

        /* 底部导航栏 */
        .nav-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 56px;
            background: white;
            display: flex;
            justify-content: space-around;
            align-items: center;
            box-shadow: 0 -1px 6px rgba(0, 0, 0, 0.05);
            border-top-left-radius: 16px;
            border-top-right-radius: 16px;
            z-index: 1000;
        }

        .nav-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #999;
            text-decoration: none;
            font-size: 12px;
            gap: 4px;
            transition: all 0.3s ease;
        }

        .nav-item i {
            font-size: 20px;
        }

        .nav-item.active {
            color: #3f51b5;
            font-weight: 500;
        }

        .nav-item:active {
            transform: scale(0.95);
        }

        /* 安全区适配 */
        @supports (padding-bottom: env(safe-area-inset-bottom)) {
            .nav-bar {
                padding-bottom: env(safe-area-inset-bottom);
                height: calc(56px + env(safe-area-inset-bottom));
            }

            .page-container {
                padding-bottom: calc(56px + env(safe-area-inset-bottom));
            }
        }

        /* 热门活动样式 */
        .hot-section {
            margin-top: 16px;
            padding: 16px;
            background: white;
        }

        .activity-scroll {
            overflow-x: auto;
            display: flex;
            gap: 12px;
            padding: 4px;
            scrollbar-width: none;
        }

        .activity-scroll::-webkit-scrollbar {
            display: none;
        }

        .activity-card {
            flex-shrink: 0;
            width: 140px;
            border-radius: 12px;
            overflow: hidden;
            position: relative;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .activity-tag {
            position: absolute;
            top: 8px;
            left: 8px;
            background: #ff4d4f;
            color: white;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 12px;
        }

        /* 下拉图标样式 */
        .dropdown {
            position: relative;
            margin-left: 8px;
            cursor: pointer;
            padding: 4px;
        }

        .dropdown-icon {
            font-size: 14px;
            color: #666;
            transition: transform 0.3s ease;
        }

        .dropdown-menu {
            position: absolute;
            top: calc(100% + 5px);
            left: -10px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            padding: 8px 0;
            min-width: 160px;
            display: none;
            z-index: 1000;
        }

        .dropdown.active .dropdown-menu {
            display: block;
            animation: fadeInDown 0.3s ease;
        }

        /* 下拉选项样式 */
        .dropdown-item {
            padding: 12px 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            color: #666;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .dropdown-item i {
            font-size: 16px;
            width: 20px;
            text-align: center;
        }

        .dropdown-item:hover {
            background: #f0f2ff;
        }

        /* 下拉动画 */
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* 添加下拉菜单的遮罩层，防止内容被遮挡 */
        .dropdown-menu::before {
            content: '';
            position: absolute;
            top: -8px;
            left: 16px;
            width: 16px;
            height: 16px;
            background: white;
            transform: rotate(45deg);
            box-shadow: -2px -2px 5px rgba(0, 0, 0, 0.05);
        }

        .dropdown-menu::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 8px;
            background: white;
            border-radius: 12px 12px 0 0;
        }

        /* 为每个分类添加特定的图标颜色 */
        .dropdown-item[data-icon="fas fa-crown"] i { color: #ffd700; }
        .dropdown-item[data-icon="fas fa-gamepad"] i { color: #ff4d4f; }
        .dropdown-item[data-icon="fas fa-city"] i { color: #3f51b5; }
        .dropdown-item[data-icon="fas fa-user-friends"] i { color: #52c41a; }
        .dropdown-item[data-icon="fas fa-map"] i { color: #1890ff; }
        .dropdown-item[data-icon="fas fa-ticket-alt"] i { color: #722ed1; }

        /* 添加媒体查询，针对超小屏幕 */
        @media screen and (max-width: 320px) {
            .category-nav {
                padding: 12px;
                gap: 8px;
                margin: 0 8px;
            }

            .category-icon {
                width: 40px;
                height: 40px;
                font-size: 18px;
            }

            .category-name {
                font-size: 11px;
            }
        }
    </style>
</head>
<body>
    <!-- 顶部搜索栏 -->
    <div class="search-bar">
        <input type="search" class="search-input" placeholder="搜索陪玩、活动">
        <i class="fas fa-bell message-icon"></i>
    </div>

    <div class="page-container">
        <!-- 首页 -->
        <div class="page active" id="home">
            <!-- 轮播图 -->
            <div class="banner-section">
                <div class="banner-container">
                    <div class="banner-wrapper" id="bannerWrapper">
                        <div class="banner-slide">
                            <a href="chengshiwanle.html">
                                <img src="https://s1.imagehub.cc/images/2024/11/23/965f92c6765b45946133748f1ec547ab.png" alt="城市玩乐">
                            </a>
                        </div>
                        <div class="banner-slide">
                            <a href="yangguangzhunze.html">
                                <img src="https://s1.imagehub.cc/images/2024/11/23/f14261903a34b0932998b015a7b5003e.png" alt="阳光平台准则">
                            </a>
                        </div>
                    </div>
                    <div class="banner-indicators">
                        <span class="indicator active"></span>
                        <span class="indicator"></span>
                    </div>
                </div>
            </div>

            <!-- 分类导航 -->
            <div class="category-nav">
                <a href="game.html" class="category-item">
                    <div class="category-icon" style="background: linear-gradient(135deg, #ff6b6b, #ffa07a);">
                        <i class="fas fa-gamepad"></i>
                    </div>
                    <span class="category-name">游戏陪玩</span>
                </a>
                <a href="city.html" class="category-item">
                    <div class="category-icon" style="background: linear-gradient(135deg, #4facfe, #00f2fe);">
                        <i class="fas fa-city"></i>
                    </div>
                    <span class="category-name">城市陪玩</span>
                </a>
                <a href="ticket.html" class="category-item">
                    <div class="category-icon" style="background: linear-gradient(135deg, #43e97b, #38f9d7);">
                        <i class="fas fa-ticket-alt"></i>
                    </div>
                    <span class="category-name">景点门票</span>
                </a>
                <a href="life.html" class="category-item">
                    <div class="category-icon" style="background: linear-gradient(135deg, #fa709a, #fee140);">
                        <i class="fas fa-store"></i>
                    </div>
                    <span class="category-name">本地生活</span>
                </a>
            </div>

            <!-- 推荐陪玩 -->
            <div class="recommend-section">
                <div class="section-header">
                    <div class="section-title">
                        <span class="title-icon"><i class="fas fa-crown"></i></span>
                        <span>官方推荐</span>
                        <div class="dropdown">
                            <i class="fas fa-chevron-down dropdown-icon"></i>
                            <div class="dropdown-menu">
                                <div class="dropdown-item" data-icon="fas fa-crown" data-color="#ffd700">
                                    <i class="fas fa-crown"></i>
                                    <span>官方推荐</span>
                                </div>
                                <div class="dropdown-item" data-icon="fas fa-gamepad" data-color="#ff4d4f">
                                    <i class="fas fa-gamepad"></i>
                                    <span>游戏陪玩</span>
                                </div>
                                <div class="dropdown-item" data-icon="fas fa-city" data-color="#3f51b5">
                                    <i class="fas fa-city"></i>
                                    <span>城市陪玩</span>
                                </div>
                                <div class="dropdown-item" data-icon="fas fa-user-friends" data-color="#52c41a">
                                    <i class="fas fa-user-friends"></i>
                                    <span>城市搭子</span>
                                </div>
                                <div class="dropdown-item" data-icon="fas fa-map" data-color="#1890ff">
                                    <i class="fas fa-map"></i>
                                    <span>本地玩乐</span>
                                </div>
                                <div class="dropdown-item" data-icon="fas fa-ticket-alt" data-color="#722ed1">
                                    <i class="fas fa-ticket-alt"></i>
                                    <span>景点门票</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="player-grid">
                    <div class="player-card" onclick="goToProductDetail(this)" data-id="1">
                        <div class="player-cover">
                            <img src="https://s1.imagehub.cc/images/2024/03/11/default_avatar.jpeg" alt="陪玩头像">
                            <div class="online-badge">
                                <i class="fas fa-circle"></i>在线
                            </div>
                            <div class="level-badge">大神</div>
                        </div>
                        <div class="player-info">
                            <div class="info-row">
                                <span class="name">小美</span>
                                <span class="rating"><i class="fas fa-star"></i>4.9</span>
                            </div>
                            <div class="tag-row">
                                <span class="tag">王者荣耀</span>
                                <span class="tag">萝莉音</span>
                            </div>
                            <div class="stats-row">
                                <span class="orders">2000+接单</span>
                                <span class="price">¥30/局</span>
                            </div>
                        </div>
                    </div>

                    <div class="player-card" onclick="goToProductDetail(this)" data-id="2">
                        <div class="player-cover">
                            <img src="https://s1.imagehub.cc/images/2024/03/11/default_avatar2.jpeg" alt="陪玩头像">
                            <div class="online-badge">
                                <i class="fas fa-circle"></i>在线
                            </div>
                            <div class="level-badge">王者</div>
                        </div>
                        <div class="player-info">
                            <div class="info-row">
                                <span class="name">小七</span>
                                <span class="rating"><i class="fas fa-star"></i>4.8</span>
                            </div>
                            <div class="tag-row">
                                <span class="tag">和平精英</span>
                                <span class="tag">御姐音</span>
                            </div>
                            <div class="stats-row">
                                <span class="orders">1800+接单</span>
                                <span class="price">¥35/局</span>
                            </div>
                        </div>
                    </div>

                    <div class="player-card" onclick="goToProductDetail(this)" data-id="3">
                        <div class="player-cover">
                            <img src="https://s1.imagehub.cc/images/2024/03/11/default_avatar3.jpeg" alt="陪玩头像">
                            <div class="online-badge">
                                <i class="fas fa-circle"></i>在线
                            </div>
                            <div class="level-badge">城市</div>
                        </div>
                        <div class="player-info">
                            <div class="info-row">
                                <span class="name">小诗</span>
                                <span class="rating"><i class="fas fa-star"></i>4.9</span>
                            </div>
                            <div class="tag-row">
                                <span class="tag">逛街</span>
                                <span class="tag">摄影</span>
                            </div>
                            <div class="stats-row">
                                <span class="orders">500+接单</span>
                                <span class="price">¥150/时</span>
                            </div>
                        </div>
                    </div>

                    <div class="player-card" onclick="goToProductDetail(this)" data-id="4">
                        <div class="player-cover">
                            <img src="https://s1.imagehub.cc/images/2024/03/11/default_avatar4.jpeg" alt="陪玩头像">
                            <div class="online-badge">
                                <i class="fas fa-circle"></i>在线
                            </div>
                            <div class="level-badge">语音</div>
                        </div>
                        <div class="player-info">
                            <div class="info-row">
                                <span class="name">小可</span>
                                <span class="rating"><i class="fas fa-star"></i>4.7</span>
                            </div>
                            <div class="tag-row">
                                <span class="tag">声优</span>
                                <span class="tag">甜音</span>
                            </div>
                            <div class="stats-row">
                                <span class="orders">1200+接单</span>
                                <span class="price">¥50/时</span>
                            </div>
                        </div>
                    </div>

                    <div class="player-card" onclick="goToProductDetail(this)" data-id="5">
                        <div class="player-cover">
                            <img src="https://s1.imagehub.cc/images/2024/03/11/default_avatar5.jpeg" alt="陪玩头像">
                            <div class="online-badge">
                                <i class="fas fa-circle"></i>在线
                            </div>
                            <div class="level-badge">大神</div>
                        </div>
                        <div class="player-info">
                            <div class="info-row">
                                <span class="name">小鱼</span>
                                <span class="rating"><i class="fas fa-star"></i>5.0</span>
                            </div>
                            <div class="tag-row">
                                <span class="tag">英雄联盟</span>
                                <span class="tag">可爱音</span>
                            </div>
                            <div class="stats-row">
                                <span class="orders">3000+接单</span>
                                <span class="price">¥40/局</span>
                            </div>
                        </div>
                    </div>

                    <div class="player-card" onclick="goToProductDetail(this)" data-id="6">
                        <div class="player-cover">
                            <img src="https://s1.imagehub.cc/images/2024/03/11/default_avatar6.jpeg" alt="陪玩头像">
                            <div class="online-badge">
                                <i class="fas fa-circle"></i>在线
                            </div>
                            <div class="level-badge">城市</div>
                        </div>
                        <div class="player-info">
                            <div class="info-row">
                                <span class="name">小月</span>
                                <span class="rating"><i class="fas fa-star"></i>4.8</span>
                            </div>
                            <div class="tag-row">
                                <span class="tag">美食</span>
                                <span class="tag">导游</span>
                            </div>
                            <div class="stats-row">
                                <span class="orders">800+接单</span>
                                <span class="price">¥180/时</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 其他页面内容 -->
        <div class="page" id="fun">
            <!-- 玩乐页面内容 -->
        </div>
        <div class="page" id="chat">
            <!-- 聊天页面内容 -->
        </div>
        <div class="page" id="profile">
            <!-- 我的页面内容 -->
        </div>
    </div>

    <!-- 修改底部导航栏的HTML结构 -->
    <div class="nav-bar">
        <a href="index.html" class="nav-item active">
            <i class="fas fa-home"></i>
            <span>首页</span>
        </a>
        <a href="ticket.html" class="nav-item">
            <i class="fas fa-compass"></i>
            <span>玩乐</span>
        </a>
        <a href="forum.html" class="nav-item">
            <i class="fas fa-comments"></i>
            <span>论坛</span>
        </a>
        <a href="kefuzhongxin.html" class="nav-item">
            <i class="fas fa-comment-dots"></i>
            <span>聊天</span>
        </a>
        <a href="profile.html" class="nav-item">
            <i class="fas fa-user"></i>
            <span>我的</span>
        </a>
    </div>

    <!-- 添加JavaScript来处理导航状态 -->
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // 获取当前页面的URL
        const currentPath = window.location.pathname;
        
        // 移除所有导航项的active类
        document.querySelectorAll('.nav-item').forEach(item => {
            item.classList.remove('active');
        });
        
        // 根据当前页面URL添加active类
        if (currentPath.includes('index.html') || currentPath === '/' || currentPath === '') {
            document.querySelector('.nav-item[href="index.html"]').classList.add('active');
        } else if (currentPath.includes('ticket.html')) {
            document.querySelector('.nav-item[href="ticket.html"]').classList.add('active');
        } else if (currentPath.includes('forum.html')) {
            document.querySelector('.nav-item[href="forum.html"]').classList.add('active');
        } else if (currentPath.includes('kefuzhongxin.html')) {
            document.querySelector('.nav-item[href="kefuzhongxin.html"]').classList.add('active');
        } else if (currentPath.includes('profile.html')) {
            document.querySelector('.nav-item[href="profile.html"]').classList.add('active');
        }
    });

    // 添加点击事件处理
    document.querySelectorAll('.nav-item').forEach(item => {
        item.addEventListener('click', function() {
            // 移除所有active类
            document.querySelectorAll('.nav-item').forEach(navItem => {
                navItem.classList.remove('active');
            });
            // 添加active类到被点击的项
            this.classList.add('active');
        });
    });
    </script>

    <!-- 添加轮播图JavaScript -->
    <script>
    // 轮播图功能
    let currentSlide = 0;
    const bannerWrapper = document.getElementById('bannerWrapper');
    const indicators = document.querySelectorAll('.indicator');
    const slideCount = document.querySelectorAll('.banner-slide').length;

    // 自动轮播
    function startAutoSlide() {
        setInterval(() => {
            nextSlide();
        }, 3000);
    }

    // 切换到下一张
    function nextSlide() {
        currentSlide = (currentSlide + 1) % slideCount;
        updateSlide();
    }

    // 更新轮播图显示
    function updateSlide() {
        bannerWrapper.style.transform = `translateX(-${currentSlide * 50}%)`;
        
        // 更新指示器
        indicators.forEach((indicator, index) => {
            indicator.classList.toggle('active', index === currentSlide);
        });
    }

    // 点击指示器切换轮播图
    indicators.forEach((indicator, index) => {
        indicator.addEventListener('click', () => {
            currentSlide = index;
            updateSlide();
        });
    });

    // 页面加载完成后启动自动轮播
    document.addEventListener('DOMContentLoaded', startAutoSlide);
    </script>

    <!-- 修改下拉菜单的JavaScript代码 -->
    <script>
    // 添加下拉菜单的点击事件处理
    document.querySelector('.dropdown').addEventListener('click', function(event) {
        // 阻止事件冒泡
        event.stopPropagation();
        // 切换active类
        this.classList.toggle('active');
        // 旋转下拉图标
        const icon = this.querySelector('.dropdown-icon');
        if (this.classList.contains('active')) {
            icon.style.transform = 'rotate(180deg)';
        } else {
            icon.style.transform = 'rotate(0deg)';
        }
    });

    // 点击页面其他地方关闭下拉菜单
    document.addEventListener('click', function(event) {
        const dropdown = document.querySelector('.dropdown');
        if (!dropdown.contains(event.target)) {
            dropdown.classList.remove('active');
            dropdown.querySelector('.dropdown-icon').style.transform = 'rotate(0deg)';
        }
    });

    // 修改下拉菜单项的点击处理函数
    document.querySelectorAll('.dropdown-item').forEach(item => {
        item.addEventListener('click', function(event) {
            event.stopPropagation();
            
            // 获取分类信息
            const icon = this.querySelector('i').className;
            const title = this.querySelector('span').textContent;
            
            // 更新标题区域
            const titleIcon = document.querySelector('.title-icon i');
            const titleText = document.querySelector('.section-title span:nth-child(2)');
            
            titleIcon.className = icon;
            titleText.textContent = title;
            
            // 更新商品列表并添加点击事件
            updatePlayerList(title);
            
            // 为新的商品卡片添加点击事件
            document.querySelectorAll('.player-card').forEach(card => {
                card.style.cursor = 'pointer';
                card.addEventListener('click', function() {
                    goToProductDetail(this);
                });
            });
            
            // 关闭下拉菜单
            document.querySelector('.dropdown').classList.remove('active');
            document.querySelector('.dropdown-icon').style.transform = 'rotate(0deg)';
        });
    });

    // 添加更新商品列表的函数
    function updatePlayerList(category) {
        const playerGrid = document.querySelector('.player-grid');
        let players;
        
        // 根据不同分类显示不同的商品列表
        switch(category) {
            case '游戏陪玩':
                players = [
                    {
                        avatar: 'default_avatar.jpeg',
                        name: '小美',
                        level: '大神',
                        tags: ['王者荣耀', '萝莉音'],
                        rating: 4.9,
                        orders: '2000+',
                        price: '30/局'
                    },
                    {
                        avatar: 'default_avatar2.jpeg',
                        name: '小七',
                        level: '王者',
                        tags: ['和平精英', '御姐音'],
                        rating: 4.8,
                        orders: '1800+',
                        price: '35/局'
                    }
                ];
                break;
                
            case '城市陪玩':
                players = [
                    {
                        avatar: 'default_avatar3.jpeg',
                        name: '小诗',
                        level: '城市',
                        tags: ['逛街', '摄影'],
                        rating: 4.9,
                        orders: '500+',
                        price: '150/时'
                    },
                    {
                        avatar: 'default_avatar6.jpeg',
                        name: '小月',
                        level: '城市',
                        tags: ['美食', '导游'],
                        rating: 4.8,
                        orders: '800+',
                        price: '180/时'
                    }
                ];
                break;
                
            case '城市搭子':
                players = [
                    {
                        avatar: 'default_avatar4.jpeg',
                        name: '小可',
                        level: '达人',
                        tags: ['运动', '旅行'],
                        rating: 4.7,
                        orders: '300+',
                        price: '100/时'
                    },
                    {
                        avatar: 'default_avatar5.jpeg',
                        name: '小鱼',
                        level: '达人',
                        tags: ['摄影', '探店'],
                        rating: 4.8,
                        orders: '400+',
                        price: '120/时'
                    }
                ];
                break;
                
            default:
                // 官方推荐显示所有类型的精选
                players = [
                    {
                        avatar: 'default_avatar.jpeg',
                        name: '小美',
                        level: '大神',
                        tags: ['王者荣耀', '萝莉音'],
                        rating: 4.9,
                        orders: '2000+',
                        price: '30/局'
                    },
                    {
                        avatar: 'default_avatar2.jpeg',
                        name: '小七',
                        level: '王者',
                        tags: ['和平精英', '御姐音'],
                        rating: 4.8,
                        orders: '1800+',
                        price: '35/局'
                    },
                    {
                        avatar: 'default_avatar3.jpeg',
                        name: '小诗',
                        level: '城市',
                        tags: ['逛街', '摄影'],
                        rating: 4.9,
                        orders: '500+',
                        price: '150/时'
                    },
                    {
                        avatar: 'default_avatar4.jpeg',
                        name: '小可',
                        level: '语音',
                        tags: ['声优', '甜音'],
                        rating: 4.7,
                        orders: '1200+',
                        price: '50/时'
                    }
                ];
        }
        
        // 更新DOM
        playerGrid.innerHTML = players.map(player => `
            <div class="player-card">
                <div class="player-cover">
                    <img src="https://s1.imagehub.cc/images/2024/03/11/${player.avatar}" alt="陪玩头像">
                    <div class="online-badge">
                        <i class="fas fa-circle"></i>在线
                    </div>
                    <div class="level-badge">${player.level}</div>
                </div>
                <div class="player-info">
                    <div class="info-row">
                        <span class="name">${player.name}</span>
                        <span class="rating"><i class="fas fa-star"></i>${player.rating}</span>
                    </div>
                    <div class="tag-row">
                        ${player.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                    </div>
                    <div class="stats-row">
                        <span class="orders">${player.orders}接单</span>
                        <span class="price">¥${player.price}</span>
                    </div>
                </div>
            </div>
        `).join('');
    }
    </script>

    <!-- 添加跳转函数 -->
    <script>
    function goToProductDetail(element) {
        // 获取商品信息
        const productInfo = {
            id: element.getAttribute('data-id'),
            name: element.querySelector('.name').textContent,
            price: element.querySelector('.price').textContent.replace('¥', '').replace('/局', ''),
            level: element.querySelector('.level-badge').textContent,
            rating: element.querySelector('.rating').textContent,
            orders: element.querySelector('.orders').textContent,
            tags: Array.from(element.querySelectorAll('.tag')).map(tag => tag.textContent),
            image: element.querySelector('img').src,
            type: 'service'  // 添加类型标识，区分不同类型的商品
        };
        
        // 将商品信息存储到 localStorage
        localStorage.setItem('currentProduct', JSON.stringify(productInfo));
        
        // 跳转到商品详情页
        window.location.href = `product_detail.html?id=${productInfo.id}&type=${productInfo.type}`;
    }

    // 修改下拉菜单项的点击处理函数
    document.querySelectorAll('.dropdown-item').forEach(item => {
        item.addEventListener('click', function(event) {
            event.stopPropagation();
            
            // 获取分类信息
            const icon = this.querySelector('i').className;
            const title = this.querySelector('span').textContent;
            
            // 更新标题区域
            const titleIcon = document.querySelector('.title-icon i');
            const titleText = document.querySelector('.section-title span:nth-child(2)');
            
            titleIcon.className = icon;
            titleText.textContent = title;
            
            // 更新商品列表并添加点击事件
            updatePlayerList(title);
            
            // 为新的商品卡片添加点击事件
            document.querySelectorAll('.player-card').forEach(card => {
                card.style.cursor = 'pointer';
                card.addEventListener('click', function() {
                    goToProductDetail(this);
                });
            });
            
            // 关闭下拉菜单
            document.querySelector('.dropdown').classList.remove('active');
            document.querySelector('.dropdown-icon').style.transform = 'rotate(0deg)';
        });
    });
    </script>
</body>
</html> 